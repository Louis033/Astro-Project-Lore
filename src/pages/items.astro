---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const items = await getCollection("items");

const base = import.meta.env.BASE_URL;
const withBase = (path) => `${base}${path}`;
---

<BaseLayout title="Items">
  <h1>Items</h1>
  <p class="small">Klik nama untuk membuka halaman item.</p>

  <ul class="list">
    {items.map((it) => (
      <li>
        <a href={withBase(`items/${it.slug}/`)}>{it.data.name}</a>
        {it.data.rarity && <span class="badge">{it.data.rarity}</span>}
      </li>
    ))}
  </ul>
</BaseLayout>

<style>
  .small{ opacity:.7; }
  .list{ line-height: 1.9; }
  .badge{
    margin-left: 10px;
    font-size: 12px;
    padding: 2px 8px;
    border: 1px solid #ddd;
    border-radius: 999px;
    opacity: .8;
  }
</style>
