---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const characters = await getCollection("characters");

const base = import.meta.env.BASE_URL;
const withBase = (path) => `${base}${path}`;
---

<BaseLayout title="Characters">
  <h1>Characters</h1>
  <p class="small">Klik nama untuk membuka halaman karakter.</p>

  <ul class="list">
    {characters.map((c) => (
      <li>
        <a href={withBase(`characters/${c.slug}`)}>{c.data.name}</a>
        {c.data.role && <span class="badge">{c.data.role}</span>}
      </li>
    ))}
  </ul>
</BaseLayout>

<style>
  .small{ opacity:.7; }
  .list{ line-height: 1.9; }
  .badge{
    margin-left: 10px;
    font-size: 12px;
    padding: 2px 8px;
    border: 1px solid #ddd;
    border-radius: 999px;
    opacity: .8;
  }
</style>
